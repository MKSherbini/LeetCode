#pragma once
#include "stdc++.h"
using namespace std;

//https://leetcode.com/problems/valid-sudoku/

class ValidSudoku
{
public:
	// 12 ms, faster than 98.92% : 17.8 MB, less than 97%
	bool solution(vector<vector<char>> board) {
		for (size_t i = 0; i < board.size(); i++)
		{
			int vis[9] = { 0 };
			for (size_t j = 0; j < board[0].size(); j++) {
				int x = board[i][j];
				if (x == '.') continue;
				if (x < '1' || x > '9' || vis[x - '1'])
					return false;
				++vis[x - '1'];
			}
		}
		for (size_t j = 0; j < board[0].size(); j++) {
			int vis[9] = { 0 };
			for (size_t i = 0; i < board.size(); i++) {
				int x = board[i][j];
				if (x == '.') continue;
				if (x < '1' || x > '9' || vis[x - '1'])
					return false;
				++vis[x - '1'];
			}
		}
		for (size_t i = 0; i < board.size(); i += 3)
		{
			for (size_t j = 0; j < board[0].size(); j += 3) {
				int vis[9] = { 0 };
				for (size_t dx = 0; dx < 3; dx++)
				{
					for (size_t dy = 0; dy < 3; dy++)
					{
						int x = board[i + dx][j + dy];
						if (x == '.') continue;
						if (x < '1' || x > '9' || vis[x - '1'])
							return false;
						++vis[x - '1'];
					}
				}
			}
		}
		return true;
	}
	vector<int> output = {
		true,
		false,
		false
	};
	static constexpr int const& inputs = 1;
	vector<vector<vector<char>>> input1 = {
		{{'5','3','.','.','7','.','.','.','.'},{'6','.','.','1','9','5','.','.','.'},{'.','9','8','.','.','.','.','6','.'},{'8','.','.','.','6','.','.','.','3'},{'4','.','.','8','.','3','.','.','1'},{'7','.','.','.','2','.','.','.','6'},{'.','6','.','.','.','.','2','8','.'},{'.','.','.','4','1','9','.','.','5'},{'.','.','.','.','8','.','.','7','9'}},
		{{'5','3','.','.','7','.','.','.','.'},{'6','8','.','1','9','5','.','.','.'},{'.','9','8','.','.','.','.','6','.'},{'8','.','.','.','6','.','.','.','3'},{'4','.','.','8','.','3','.','.','1'},{'7','.','.','.','2','.','.','.','6'},{'.','6','.','.','.','.','2','8','.'},{'.','.','.','4','1','9','.','.','5'},{'.','.','.','.','8','.','.','7','9'}},
		{{'8','3','.','.','7','.','.','.','.'},{'6','.','.','1','9','5','.','.','.'},{'.','9','8','.','.','.','.','6','.'},{'8','.','.','.','6','.','.','.','3'},{'4','.','.','8','.','3','.','.','1'},{'7','.','.','.','2','.','.','.','6'},{'.','6','.','.','.','.','2','8','.'},{'.','.','.','4','1','9','.','.','5'},{'.','.','.','.','8','.','.','7','9'}}
	};
};